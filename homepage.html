<!DOCTYPE html>
<meta charset="utf-8">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Drata</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="/style/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/style/app.css" />
    <link rel="stylesheet" type="text/css" href="/style/drata.css" />
    <link rel="stylesheet" type="text/css" href="/style/fonts/icomoon.css" />
</head>
<body>
    <div class="row collapse" style="overflow:hidden">
        <div class="small-12 columns">
            <div class="r-corner">
                <div class="r-corner1">
                    <span class="take_demo">demo</span>
                </div>
                <div class="r-corner2">
                    <ul class="menu">
                        <li>about</li>
                        <li>docs</li>
                        <li>github</li>
                    </ul>
                </div>
                <div class="r-corner3">drata</div>
            </div>
            <div id="slideBgWrapper" class="slide-bg-wrapper">
                    <div class="row">
                        <div class="small-12 columns l1">
                            Data Driven Dashboard
                        </div>
                        <div class="small-12 columns l2">
                            A simple, yet efficient business intelligence tool designed to gather analytics from your existing data.
                        </div>
                    </div>
                    <div class="row callouts">
                        <div class="small-4 columns text-center">
                        <div class="content">
                            <h3>Connect to Datasource</h3>
                            <h3><small>Drata supports Mongodb currently. Add your db server credentials to the config file, and let drata pull databases and collections.</small></h3>
                            </div>
                        </div>
                        <div class="small-4 columns center text-center">
                        <div class="content">
                            <h3>Slice and dice your data </h3>
                            <h3><small> Select the properties you want to visualize, apply filters. You may aggregate resulting collection for timeseries or any other reason and finally select the timeframe.</small></h3>
                            </div>
                        </div>
                        <div class="small-4 columns text-center">
                            <div class="content">
                            <h3>Apply Visualizations</h3>
                            <h3><small>Select the type of visualization suitable to your needs and save it as a widget on your dashboard. Currently drata supports 6 types of charts. More comming soon.</small></h3>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>

    <div class="row about a1">
        <div class="small-12 columns">
            <h1>Demo</h1>
            <div class="row">
                <div class="small-6 columns text-center">
                    <p>Create a dashboard from scratch. </p>
                    <button class="primary large">New Dashboard</button>
                </div>
                <div class="small-6 columns text-center">
                    <p>See a pre built Dashboard</p>
                    <button class="primary large">Demo</button>
                </div>
            </div>
        </div>
    </div>
    

   <!--  <div class="header-chart" id="mainheader">
        <svg></svg>
    </div> -->

    <script src="/js/lib/d3.v3.js"></script>
    <script type="text/javascript" src="/js/lib/jquery-1.10.2.min.js"></script>
     <script type="text/javascript" src="/js/lib/underscore-min.js"></script>
    <script type="text/javascript" src="/js/utils.js"></script>
    <script type="text/javascript" src="/js/models/labels.js"></script>
    <script type="text/javascript" src="/js/charts/barchart.js"></script>
     <script type="text/javascript" src="/js/tempdata.js"></script>
    <script type="text/javascript">
        (function (root, $) {
            var h = $(window).height();
            var mainheader = $('#slideBgWrapper');

            mainheader.height(Math.max(h, mainheader.height()));

            // var data = tempData.randomData(10,1, 10);
            // var chart = drata.charts.barChart().showBarLabels(false).drawYAxis(false).drawXAxis(false).dims({m: {t:0, r:0, b:0, l:0}}).drawLabels(false);
            // var _t, t2;
            
            // drata.utils.windowResize(function(){
            //     _t && clearTimeout(_t);
            //     _t = setTimeout(chart.resize, 500);
            // });
            
            // // setInterval(function(){
            // //     data = tempData.randomData(5,10, 17);
            // //     chart.change(data);
            // // }, 5000);

            // d3.select('#mainheader svg')
            //     .datum(data)
            //     .call(chart);

        // var $slideBg = $('#slidebg');
        // var $window = $(window);
        // var _t, _top = -50, currentSlideBgWidth = $slideBg.width();

        // function setSlideBgWidth(){
        //     currentSlideBgWidth = $window.width() + 100;
        //     $slideBg.width(currentSlideBgWidth + 'px');
        // };
        
        // drata.utils.windowResize(function(){
        //     _t && clearTimeout(_t);
        //     _t = setTimeout(setSlideBgWidth, 500);
        // });

        // d3.select($slideBg[0])
        //     .attr('style', '-webkit-transform: translate(0px,-50px)');

        // d3.select('.slide-bg-wrapper')
        //     .on('mouseover', function(d){
        //         _top = _top === -50 ? 0 : -50;
        //         d3.select($slideBg[0])
        //         .transition().duration(3000)
        //         .attr('style', '-webkit-transform: translate(0px, ' + (_top) + 'px)');
        //         console.log('in');
        //     })
        //     .on('mouseout', function(d){
        //         console.log('out');
        //         _top = _top === -50 ? 0 : -50;
        //         d3.select($slideBg[0])
        //         .transition().duration(3000)
        //         .attr('style', '-webkit-transform: translate(0px, ' + (_top) + 'px)');
        //     });

        })(this, jQuery);
    </script>
</body>
</html>
